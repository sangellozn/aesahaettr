<div class="header">
    <h1>{{objet.nom}}</h1>
    <p-splitButton icon="pi pi-plus" [model]="menuItems" styleClass="p-button-success p-ml-3"></p-splitButton>
</div>

<div class="mt-3">
    <p-panel header="Informations générales" styleClass="mb-3">
        <ng-template pTemplate="icons">
            <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-warning p-mr-2" title="Modifier les informations générales"
              (click)="onEditButtonClick()"></button>
        </ng-template>
        <div class="p-grid">
            <div class="p-col">
                <div class="p-fluid">
                    <div class="p-field">
                        <label>Nom</label>
                        <input type="text" pInputText disabled [value]="objet.nom" />
                    </div>
                </div>
            </div>
        </div>
        <div class="p-grid">
            <div class="p-col">
                <div class="p-fluid">
                    <div class="p-field">
                        <label>Type d'objet</label>
                        <input type="text" pInputText disabled [value]="getRefTypeObjet(objet.typeObjetCode).libelle" />
                    </div>
                </div>
            </div>
        </div>
        <div class="p-grid">
            <div class="p-col">
                <div class="p-fluid">
                    <div class="p-field">
                        <label>Description</label>
                        <textarea pInputTextarea type="text" rows="5" pInputText disabled>{{objet.description}}</textarea>
                    </div>
                </div>
            </div>
        </div>
        <div class="p-grid">
            <div class="p-col">
                <div class="p-fluid">
                    <div class="p-field">
                        <label for="nom">Date de création de la fiche</label>
                        <input type="text" pInputText disabled [value]="objet.dateCreation | date:'dd/MM/yyyy HH:mm:ss'" />
                    </div>
                </div>
            </div>
            <div class="p-col">
                <div class="p-fluid">
                    <div class="p-field">
                        <label for="nom">Date de dernière mise à jour</label>
                        <input type="text" pInputText disabled [value]="objet.dateModification | date:'dd/MM/yyyy HH:mm:ss'" />
                    </div>
                </div>
            </div>
        </div>
    </p-panel>
    <p-panel header="Localisations et adresses" styleClass="mb-3">
        <ng-template pTemplate="icons">
            <button pButton pRipple icon="pi pi-plus" class="p-button-rounded p-button-success p-mr-2" title="Ajouter une localisation"
              (click)="onAddLocalisationButtonClick()"></button>
        </ng-template>
        <app-localisation-list [localisations]="objet.localisations" [visible]="quickAddType === 'LOCALISATION'"
          [elementId]="objet.id" type="OBJET" (onEditAddActionCompleted)="onQuickAddActionCompleted($event)"></app-localisation-list>
    </p-panel>
    <p-panel header="Propriétaire(s)" styleClass="mb-3">
        En cours de développement.
    </p-panel>
    <p-panel header="Evénements" styleClass="mb-3">
        <ng-template pTemplate="icons">
            <button pButton pRipple icon="pi pi-plus" class="p-button-rounded p-button-success p-mr-2" title="Ajouter un événement"
              (click)="onAddEvenementButtonClick()"></button>
        </ng-template>
        <app-evenement-list [visible]="quickAddType === 'EVENEMENT'"
          [elementId]="objet.id" type="OBJET" [evenements]="objet.evenements" (onEditAddActionCompleted)="onQuickAddActionCompleted($event)"></app-evenement-list>
    </p-panel>
    <p-scrollTop [threshold]="200"></p-scrollTop>
</div>